"use strict";(self.webpackChunke_pos_point_dashboard=self.webpackChunke_pos_point_dashboard||[]).push([[871],{7871:(w,m,e)=>{e.r(m),e.d(m,{LoginModule:()=>Y});var u=e(6019),i=e(9133),n=e(3668),L=e(9716),x=e(5417),T=e(840),_=e(604),l=e(888),p=e(515),s=e(8167),c=e(138),d=e(86),h=e(9112),Z=e(904),f=e(7964),A=e(8292);function y(o,r){if(1&o&&(n.TgZ(0,"h3",16),n._uU(1,"Welcome back, "),n.TgZ(2,"strong"),n._uU(3),n.qZA(),n.qZA()),2&o){const a=n.oxw();n.xp6(3),n.Oqu(a.authService.previousAuthUsername)}}function b(o,r){1&o&&(n.TgZ(0,"strong",17),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&o&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"validationErrors.invalidCredentials")))}function C(o,r){1&o&&(n.TgZ(0,"mat-error"),n.TgZ(1,"mat-icon"),n._uU(2,"warning"),n.qZA(),n._uU(3),n.ALo(4,"translate"),n.qZA()),2&o&&(n.xp6(3),n.hij(" ",n.lcZ(4,1,"validationErrors.required")," "))}function q(o,r){1&o&&(n.TgZ(0,"mat-error"),n.TgZ(1,"mat-icon"),n._uU(2,"warning"),n.qZA(),n._uU(3),n.ALo(4,"translate"),n.qZA()),2&o&&(n.xp6(3),n.hij(" ",n.lcZ(4,1,"validationErrors.required")," "))}function U(o,r){1&o&&(n.TgZ(0,"mat-error"),n.TgZ(1,"mat-icon"),n._uU(2,"warning"),n.qZA(),n._uU(3),n.ALo(4,"translate"),n.qZA()),2&o&&(n.xp6(3),n.hij(" ",n.lcZ(4,1,"validationErrors.required")," "))}function O(o,r){1&o&&(n.TgZ(0,"span"),n.TgZ(1,"mat-icon",18),n._uU(2,"login"),n.qZA(),n._uU(3),n.ALo(4,"translate"),n.qZA()),2&o&&(n.xp6(3),n.hij(" ",n.lcZ(4,1,"loginPage.loginButton")," "))}function P(o,r){1&o&&(n.TgZ(0,"span"),n.TgZ(1,"mat-icon",18),n._UZ(2,"mat-spinner",19),n.qZA(),n._uU(3),n.ALo(4,"translate"),n.qZA()),2&o&&(n.xp6(3),n.hij(" ",n.lcZ(4,1,"loginPage.signing")," "))}let I=(()=>{class o{constructor(a,t,g,v){this.fb=a,this.appRouteService=t,this.languageService=g,this.authService=v,this.isPasswordVisible=!1,this.isLoading=!1,this.hasAuthError=!1,this.loginForm=this.fb.group({companyId:this.fb.control("",i.kI.required),username:this.fb.control(v.previousAuthUsername,i.kI.required),password:this.fb.control("",i.kI.required),rememberMe:this.fb.control(!0)})}ngOnInit(){}onSubmitLoginForm(){if(this.loginForm.invalid)return;const{value:a}=this.loginForm;this.isLoading=!0,this.authService.tryLogin({companyCode:a.companyId,useR_NAME:a.username,useR_PASSWORD:a.password}).subscribe(t=>{this.isLoading=!1,this.appRouteService.dashboard.main().navigate()},t=>{this.hasAuthError=!0,this.isLoading=!1})}get companyId(){return this.loginForm.get("companyId")}get username(){return this.loginForm.get("username")}get password(){return this.loginForm.get("password")}onChangePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible}}return o.\u0275fac=function(a){return new(a||o)(n.Y36(i.qu),n.Y36(L.O),n.Y36(x.T),n.Y36(T.e))},o.\u0275cmp=n.Xpm({type:o,selectors:[["eppd-login"]],decls:42,vars:38,consts:[[1,"mat-app-background"],[1,"language__box"],[1,"auth__box"],["class","text__center",4,"ngIf"],[1,"text__center","text__cap"],["class","text__danger text__center d__block my__2",4,"ngIf"],["fxLayout","column","fxLayoutGap","10px",3,"formGroup","ngSubmit"],["appearance","outline"],[1,"text__cap"],["matInput","","formControlName","companyId",3,"readOnly","placeholder"],[4,"ngIf"],["matInput","","formControlName","username","autocomplete","username",3,"readOnly","placeholder"],["matInput","","autocomplete","current-password","formControlName","password",3,"type","readOnly","placeholder"],["matSuffix","","mat-icon-button","","type","button",3,"click"],["formControlName","rememberMe","color","primary"],["mat-flat-button","","color","primary",1,"round__button",3,"disabled"],[1,"text__center"],[1,"text__danger","text__center","d__block","my__2"],[1,"px__1","mat__small__icon"],["diameter","20"]],template:function(a,t){1&a&&(n.TgZ(0,"section",0),n.TgZ(1,"div",1),n._UZ(2,"eppd-change-language-one"),n.qZA(),n.TgZ(3,"div",2),n.TgZ(4,"mat-card"),n.YNc(5,y,4,1,"h3",3),n.TgZ(6,"h2",4),n._uU(7),n.ALo(8,"translate"),n.qZA(),n.YNc(9,b,3,3,"strong",5),n.TgZ(10,"mat-card-content"),n.TgZ(11,"form",6),n.NdJ("ngSubmit",function(){return t.onSubmitLoginForm()}),n.TgZ(12,"mat-form-field",7),n.TgZ(13,"mat-label",8),n._uU(14),n.ALo(15,"translate"),n.qZA(),n._UZ(16,"input",9),n.ALo(17,"translate"),n.YNc(18,C,5,3,"mat-error",10),n.qZA(),n.TgZ(19,"mat-form-field",7),n.TgZ(20,"mat-label",8),n._uU(21),n.ALo(22,"translate"),n.qZA(),n._UZ(23,"input",11),n.ALo(24,"translate"),n.YNc(25,q,5,3,"mat-error",10),n.qZA(),n.TgZ(26,"mat-form-field",7),n.TgZ(27,"mat-label",8),n._uU(28),n.ALo(29,"translate"),n.qZA(),n._UZ(30,"input",12),n.ALo(31,"translate"),n.TgZ(32,"button",13),n.NdJ("click",function(){return t.onChangePasswordVisibility()}),n.TgZ(33,"mat-icon"),n._uU(34),n.qZA(),n.qZA(),n.YNc(35,U,5,3,"mat-error",10),n.qZA(),n.TgZ(36,"mat-checkbox",14),n._uU(37),n.ALo(38,"translate"),n.qZA(),n.TgZ(39,"button",15),n.YNc(40,O,5,3,"span",10),n.YNc(41,P,5,3,"span",10),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&a&&(n.xp6(5),n.Q6J("ngIf",t.authService.previousAuthUsername),n.xp6(2),n.Oqu(n.lcZ(8,22,"loginPage.title")),n.xp6(2),n.Q6J("ngIf",t.hasAuthError),n.xp6(2),n.Q6J("formGroup",t.loginForm),n.xp6(3),n.Oqu(n.lcZ(15,24,"loginPage.companyId")),n.xp6(2),n.Q6J("readOnly",t.isLoading)("placeholder",n.lcZ(17,26,"loginPage.companyId")),n.xp6(2),n.Q6J("ngIf",t.companyId.hasError("required")),n.xp6(3),n.Oqu(n.lcZ(22,28,"loginPage.username")),n.xp6(2),n.Q6J("readOnly",t.isLoading)("placeholder",n.lcZ(24,30,"loginPage.username")),n.xp6(2),n.Q6J("ngIf",null==t.username?null:t.username.hasError("required")),n.xp6(3),n.Oqu(n.lcZ(29,32,"loginPage.password")),n.xp6(2),n.Q6J("type",t.isPasswordVisible?"text":"password")("readOnly",t.isLoading)("placeholder",n.lcZ(31,34,"loginPage.password")),n.xp6(4),n.Oqu(t.isPasswordVisible?"visibility_off":"visibility"),n.xp6(1),n.Q6J("ngIf",null==t.password?null:t.password.hasError("required")),n.xp6(2),n.Oqu(n.lcZ(38,36,"loginPage.remember")),n.xp6(2),n.Q6J("disabled",t.isLoading||t.loginForm.invalid),n.xp6(1),n.Q6J("ngIf",!t.isLoading),n.xp6(1),n.Q6J("ngIf",t.isLoading))},directives:[_.E,l.a8,u.O5,l.dn,i._Y,i.JL,p.xw,p.SQ,i.sg,s.KE,s.hX,c.Nt,i.Fj,i.JJ,i.u,d.lW,s.R9,h.Hw,Z.oG,s.TO,f.$g],pipes:[A.X$],styles:["section[_ngcontent-%COMP%]{display:grid;place-items:center;height:100vh;position:relative}section[_ngcontent-%COMP%]   .language__box[_ngcontent-%COMP%]{position:absolute;top:20px;right:70px}section[_ngcontent-%COMP%]   .language__name[_ngcontent-%COMP%]{display:inline-block;margin-left:10px!important}section[_ngcontent-%COMP%]   .auth__box[_ngcontent-%COMP%]{min-width:400px}"]}),o})();var J=e(1659),M=e(330),N=e(152);const S=[{path:"",component:I}],Q=[A.aw],E=[l.QW,s.lN,c.c,d.ot,h.Ps,Z.p9,f.Cq],F=[M.$];let Y=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[u.ez,i.UX,J.Bz.forChild(S),...E,...F,...Q,N.o9]]}),o})()}}]);